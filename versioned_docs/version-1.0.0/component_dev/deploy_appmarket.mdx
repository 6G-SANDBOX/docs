---
sidebar_position: 6
title: "Deploy your own AppMarket"
sidebar_label: "Deploy your own AppMarket"
draft: true # change to false when ready to publish
---

import CodeBlock from "@theme/CodeBlock";
import Link from "@docusaurus/Link";
import { APPMARKET_REPO_URL } from "@site/src/constants/v1.0.0";

## How to build your own marketplace

To create your own marketplace, you need to follow these steps:

### Install the appmarket-simple
Content server provided by OpenNebula. Instructions may have changed
https://github.com/OpenNebula/appmarket-simple

Change logos and external URL

1. Install yarn

```bash
curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
apt-get update
apt-get install -y yarn
```

2. Clone the <Link to={APPMARKET_REPO_URL}>appmarket-simple</Link> repository

<CodeBlock language="bash">
    {`git clone ${APPMARKET_REPO_URL} /opt/appmarket-simple`}
</CodeBlock>

3. Install the dependencies

```bash
yarn --cwd /opt/appmarket-simple/src/public/react/ install
```

4. Comment line 2 and uncomment line 1 to `src/public/react/src/constants/endpoints.js`

5. Build the frontend

```bash
yarn --cwd /opt/appmarket-simple/src/public/react/ build
```


### Install the appliance build chain

```bash
git clone --recurse-submodules https://github.com/6G-SANDBOX/marketplace-community.git

mkdir -p /srv/6gsandbox /srv/6gsandbox/metadata  /srv/6gsandbox/appliances
ln -sf /srv/6gsandbox/metadata/ /opt/appmarket-simple/src/data
ln -sf /opt/6gsandbox/marketplace-community/logos/ /opt/appmarket-simple/src/public/logos
ln -sf /opt/6gsandbox/marketplace-community/appliances/.other-appliances/ /srv/6gsandbox/metadata/
```

Now, set up a simple nginx server to expose the appliances built
```nginx
# /etc/nginx/sites-enabled/6gsandbox-marketplace
...
server {
...
    root /srv/6gsandbox/appliances;
...
```

And finally edit `apps-code/community-apps/Makefile.local` to set a custom prefix for the appliance names, to modify the external URL for the exposed nginx server, or to modify the paths where appliances and metadata will be placed.

Refresh everything to see if everything worked
```bash
systemctl restart nginx
systemctl restart appmarket-simple
```

You can start building appliances now.
