---
sidebar_position: 1
title: "Manual TNLCM Installation"
sidebar_label: "Manual TNLCM Installation"
draft: false
---

import CodeBlock from "@theme/CodeBlock";
import Link from "@docusaurus/Link";
// eslint-disable-next-line no-unused-vars
import { ONE_REPO_RELEASE, ONE_REPO_VERSION, MINIO_REPO_RELEASE, MINIO_REPO_VERSION, JENKINS_REPO_RELEASE, JENKINS_REPO_VERSION, TNLCM_BACKEND_INSTALL_SCRIPT, TNLCM_FRONTEND_INSTALL_SCRIPT } from "@site/src/config/constants";

## Requirements

- **OpenNebula >=** <Link to={ONE_REPO_RELEASE}>{ONE_REPO_VERSION}</Link>
- **MinIO >=** <Link to={MINIO_REPO_RELEASE}>{MINIO_REPO_VERSION}</Link>
- **Jenkins >=** <Link to={JENKINS_REPO_RELEASE}>{JENKINS_REPO_VERSION}</Link>

:::tip
You can install the full stack MinIO, Jenkins and TNLCM in OpenNebula by following the toolkit installer guide [here](../toolkit.mdx).
:::

## Download installations scripts

### Backend

Download the backend installation script using one of the following command.

- Using `curl`:

<CodeBlock language="bash">
    {`curl -O ${TNLCM_BACKEND_INSTALL_SCRIPT}`}
</CodeBlock>

- Using `wget`:

<CodeBlock language="bash">
    {`wget ${TNLCM_BACKEND_INSTALL_SCRIPT}`}
</CodeBlock>

{/* ### Frontend

Download the frontend installation script using one of the following command.

- Using `curl`:

<CodeBlock language="bash">
    {`curl -O ${TNLCM_FRONTEND_INSTALL_SCRIPT}`}
</CodeBlock>

- Using `wget`:

<CodeBlock language="bash">
    {`wget ${TNLCM_FRONTEND_INSTALL_SCRIPT}`}
</CodeBlock> */}

## Execute installations scripts

Start with the backend installation script.

Give execution permissions to backend installation script:

```bash
chmod +x install.sh
```

Run the script and follow the instructions:

```bash
./install.sh
```

A [Swagger UI](../../experimenter/tnlcm_usage.mdx) will be available at the url http://tnlcm-backend-ip:5000 where the API with the endpoints are exposed.

{/* After the backend installation, proceed with the frontend installation script.

Give execution permissions to frontend installation script:

```bash
chmod +x install.sh
```

Run the script and follow the instructions:

```bash
./install.sh
```

A interface will be available at the url http://tnlcm-frontend-ip:3000 where the frontend is exposed. */}

## About the backend installation script

The `install.sh` script is designed to automate the installation and configuration of the Trial Network Lifecycle Manager (TNLCM) backend and its dependencies on **Ubuntu 22.04 or 24.04** systems.

It will perform the following actions:

1. Validate that the script is run as **root** and the OS version is supported.
2. Install required packages and dependencies including:
   - **Git**
   - **Python 3.13** (via deadsnakes PPA)
   - **uv** (Python dependency manager)
   - **MongoDB 8.0**
   - **Yarn**
   - **Node.js**
   - **Mongo-Express**
3. Clone the TNLCM backend repository from GitHub.
4. Copy the `.env.template` file and prompt you to fill in necessary configuration values such as:
   - TNLCM admin user and password
   - TNLCM host IP
   - Jenkins credentials and token
   - Sites token
5. Update the `.env` file automatically with the provided values.
6. Initialize the **MongoDB database** with the required structure.
7. Build and configure **Mongo-Express** as a systemd service for MongoDB web UI access.
8. Install backend Python dependencies using `uv`.
9. Start the **TNLCM backend API server** using **Gunicorn**.

⚠️ **Important:**
- This script must be executed on **Ubuntu 22.04 or 24.04**.
- It requires **root privileges**.
- Make sure the server has internet access to download packages and repositories.

Once completed, the backend API (including a Swagger UI) will be available at `http://<tnlcm-backend-ip>:5000`.
